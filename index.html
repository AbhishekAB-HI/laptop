<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax</title>
</head>
<body>
    <button id="populate">click</button>

    <table width="50%">
        <thead>
            <tr>
                <td>id</td>
                <td>Name</td>
                <td>Username</td>
               
            </tr>

        </thead>
        <tbody id="result">

            <td>please wait</td>


        </tbody>
    </table>




    <script>
        // object
        const xhr =new XMLHttpRequest();
        xhr.open("get","https://jsonplaceholder.typicode.com/users");
        // xhr.send();
        document.getElementById("populate").addEventListener("click",function(){
            xhr.send(); 
        })

        xhr.onreadystatechange=function(){
             if(xhr.readyState==4){
                if(xhr.status==200){
                var htmlcontent=""
                var resultdata=JSON.parse(xhr.response)
                console.log(resultdata)
                resultdata.forEach(element => {
                    const res=element
                    htmlcontent=htmlcontent+"<tr><td>"+res.id+"</td><td>"+res.name+"</td><td>"+res.username+"</td></tr>"
                    
                });

                document.getElementById("result").innerHTML=htmlcontent


                  
                }else{
                    alert("error") 
                }
                
             }
        }

    


    </script>
    

</body>
</html>

